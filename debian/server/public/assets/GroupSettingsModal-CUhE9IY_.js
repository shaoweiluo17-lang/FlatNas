import{d as V,u as _,c as f,a as d,b as i,e as u,g as t,i as n,p as w,j as b,t as p,l as C,m as I,k as S,G as L,f as T,_ as N}from"./index-CVQJtkH-.js";import P from"./IconShape-BAQpRBg9.js";import{_ as U}from"./IconUploader.vue_vue_type_script_setup_true_lang-CWU1DQCa.js";const H={class:"bg-white rounded-2xl shadow-2xl w-full max-w-md overflow-hidden transform transition-all scale-100 animate-in fade-in zoom-in duration-200"},W={class:"p-6 space-y-6 max-h-[70vh] overflow-y-auto"},D={class:"flex gap-3 mb-3"},F=["value"],R=["value"],q={class:"flex items-center justify-between bg-gray-50 p-3 rounded-lg border border-gray-100"},A={class:"relative inline-flex items-center cursor-pointer"},E=["checked"],O={class:"text-sm font-bold text-gray-800 mb-4 flex items-center gap-2"},J={key:0,class:"text-[10px] px-2 py-0.5 bg-blue-100 text-blue-600 rounded-full"},K={class:"space-y-4"},Q={class:"flex gap-2 bg-gray-100 p-1 rounded-lg"},X={class:"flex justify-between mb-2"},Y={class:"text-xs font-mono text-blue-600 bg-blue-50 px-1.5 rounded"},Z=["value"],ee={class:"flex justify-between mb-2"},te={class:"text-xs font-mono text-blue-600 bg-blue-50 px-1.5 rounded"},oe=["value"],le={class:"flex justify-between mb-2"},ae={class:"text-xs font-mono text-blue-600 bg-blue-50 px-1.5 rounded"},se=["value"],re={class:"text-sm font-bold text-gray-800 mb-4 flex items-center gap-2"},ne={key:0,class:"text-[10px] px-2 py-0.5 bg-purple-100 text-purple-600 rounded-full"},de={class:"space-y-4"},ie={class:"flex items-center justify-between"},ue={class:"flex items-center gap-3"},pe={class:"flex flex-col items-center gap-1",title:"å¡ç‰‡æ ‡é¢˜é¢œè‰²"},ge=["value"],ce={class:"flex flex-col items-center gap-1",title:"å¡ç‰‡èƒŒæ™¯é¢œè‰²"},be={key:0,class:"flex flex-col items-center gap-1 w-16"},xe={class:"text-[10px] text-gray-400"},fe={class:"flex flex-col items-center gap-1"},ve={class:"relative inline-flex items-center cursor-pointer"},ye=["checked"],me={class:"border-t border-gray-100 pt-4"},ke={class:"space-y-3"},he={class:"flex items-center gap-2"},we=["value"],Ce={key:0,class:"grid grid-cols-2 gap-4 mt-2 p-3 bg-gray-50 rounded-lg"},Ie={class:"block text-[10px] text-gray-400 mb-1 flex justify-between"},Se=["value"],Be={class:"block text-[10px] text-gray-400 mb-1 flex justify-between"},$e=["value"],ze={class:"flex gap-3 items-center"},je=["value"],Ge={class:"w-10 h-10 flex items-center justify-center bg-gray-100 rounded-lg"},Me=V({__name:"GroupSettingsModal",props:{show:{type:Boolean},groupId:{}},emits:["update:show"],setup(k,{emit:B}){const v=k,$=B,s=_(),o=f(()=>s.groups.find(a=>a.id===v.groupId)),y=()=>$("update:show",!1),r=a=>{v.groupId&&s.updateGroup(v.groupId,a)},z=()=>{o.value&&confirm(`ç¡®å®šè¦åˆ é™¤åˆ†ç»„ "${o.value.title}" åŠå…¶æ‰€æœ‰å†…å®¹å—ï¼Ÿ`)&&(s.deleteGroup(o.value.id,!0),y())},j=()=>{if(o.value&&confirm("ç¡®å®šè¦é‡ç½®æ­¤åˆ†ç»„çš„æ‰€æœ‰è®¾ç½®ï¼Œæ¢å¤ä¸ºå…¨å±€é»˜è®¤å—ï¼Ÿ")){const{id:a}=o.value;s.updateGroup(a,{titleColor:void 0,cardLayout:void 0,cardSize:void 0,gridGap:void 0,cardBgColor:void 0,showCardBackground:void 0,iconShape:void 0,backgroundImage:void 0,backgroundBlur:void 0,backgroundMask:void 0,autoHideTitle:void 0})}},G=()=>{if(!o.value)return;const a={isPublic:!0};if(o.value.items){const e=o.value.items.map(l=>({...l,isPublic:!0}));a.items=e}r(a)},M=()=>{if(!o.value||!o.value.items)return;const a=o.value.items.map(e=>({...e,isPublic:!1}));r({isPublic:!1,items:a})},h=f(()=>o.value?.cardBgColor||s.appConfig.cardBgColor||"#ffffff"),m=f({get:()=>{const a=h.value;if(a.startsWith("#"))return a.substring(0,7);if(a.startsWith("rgba")||a.startsWith("rgb")){const e=a.match(/\d+/g);if(e&&e.length>=3){const l=parseInt(e[0]).toString(16).padStart(2,"0"),g=parseInt(e[1]).toString(16).padStart(2,"0"),c=parseInt(e[2]).toString(16).padStart(2,"0");return`#${l}${g}${c}`}}return"#ffffff"},set:a=>{const e=x.value,l=parseInt(a.slice(1,3),16),g=parseInt(a.slice(3,5),16),c=parseInt(a.slice(5,7),16);r({cardBgColor:`rgba(${l}, ${g}, ${c}, ${e})`})}}),x=f({get:()=>{const a=h.value;if(a.startsWith("rgba")){const e=a.match(/[\d\.]+/g);if(e&&e.length>=4)return parseFloat(e[3])}return 1},set:a=>{const e=m.value,l=parseInt(e.slice(1,3),16),g=parseInt(e.slice(3,5),16),c=parseInt(e.slice(5,7),16);r({cardBgColor:`rgba(${l}, ${g}, ${c}, ${a})`})}});return(a,e)=>k.show&&o.value?(u(),d("div",{key:0,class:"fixed inset-0 bg-black/40 z-50 flex items-center justify-center p-4",onClick:T(y,["self"])},[t("div",H,[t("div",{class:"px-6 py-4 border-b border-gray-100 flex justify-between items-center bg-gray-50/50"},[e[18]||(e[18]=t("h3",{class:"text-lg font-bold text-gray-800"},"åˆ†ç»„è®¾ç½®",-1)),t("button",{onClick:y,class:"text-gray-400 hover:text-gray-600 text-2xl leading-none"}," Ã— ")]),t("div",W,[t("div",null,[e[22]||(e[22]=t("label",{class:"block text-sm font-bold text-gray-600 mb-2"},"åˆ†ç»„æ ‡é¢˜",-1)),t("div",D,[t("input",{value:o.value.title,onInput:e[0]||(e[0]=l=>r({title:l.target.value})),type:"text",class:"flex-1 px-4 py-2 rounded-lg border border-gray-200 focus:border-blue-500 outline-none transition-colors"},null,40,F),t("input",{type:"color",value:o.value.titleColor||n(s).appConfig.titleColor||"#374151",onInput:e[1]||(e[1]=l=>r({titleColor:l.target.value})),class:"w-10 h-10 rounded cursor-pointer border-0 p-0",title:"æ ‡é¢˜é¢œè‰²"},null,40,R)]),t("div",{class:"flex items-center justify-between bg-gray-50 p-3 rounded-lg border border-gray-100"},[e[19]||(e[19]=t("div",{class:"flex flex-col"},[t("span",{class:"text-xs font-bold text-gray-700"},"å…¬å¼€æ­¤åˆ†ç»„ï¼ˆä¸€æ¬¡æ€§æ‰§è¡Œï¼‰"),t("span",{class:"text-[10px] text-gray-400"},"å…è®¸æœªç™»å½•è®¿å®¢æŸ¥çœ‹æ­¤åˆ†ç»„å†…å®¹")],-1)),t("div",{class:"flex gap-2"},[t("button",{onClick:M,class:"px-3 py-1.5 bg-white border border-gray-200 text-gray-600 text-xs font-bold rounded-lg shadow-sm hover:bg-red-50 hover:text-red-600 hover:border-red-200 transition-colors"}," ä¸å…¬å¼€ "),t("button",{onClick:G,class:"px-3 py-1.5 bg-white border border-gray-200 text-gray-600 text-xs font-bold rounded-lg shadow-sm hover:bg-blue-50 hover:text-blue-600 hover:border-blue-200 transition-colors"}," å…¬å¼€ ")])]),t("div",q,[e[21]||(e[21]=t("div",{class:"flex flex-col"},[t("span",{class:"text-xs font-bold text-gray-700"},"è‡ªåŠ¨éšè—æ ‡é¢˜"),t("span",{class:"text-[10px] text-gray-400"},"é¼ æ ‡æ‚¬åœæ—¶æ‰æ˜¾ç¤ºç»„åå’Œæ“ä½œæŒ‰é’®")],-1)),t("label",A,[t("input",{type:"checkbox",checked:!!o.value.autoHideTitle,onChange:e[2]||(e[2]=l=>r({autoHideTitle:l.target.checked})),class:"sr-only peer"},null,40,E),e[20]||(e[20]=t("div",{class:"w-9 h-5 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-4 after:w-4 after:transition-all peer-checked:bg-blue-500"},null,-1))])])]),e[44]||(e[44]=t("div",{class:"border-t border-gray-100"},null,-1)),t("div",null,[t("h4",O,[e[23]||(e[23]=t("span",null,"ğŸ“ å¸ƒå±€ä¸é—´è·",-1)),o.value.cardLayout||o.value.gridGap?(u(),d("span",J,"å·²è‡ªå®šä¹‰")):i("",!0)]),t("div",K,[t("div",null,[e[26]||(e[26]=t("label",{class:"text-xs font-bold text-gray-500 mb-2 block"},"å¡ç‰‡å¸ƒå±€",-1)),t("div",Q,[t("button",{onClick:e[3]||(e[3]=l=>r({cardLayout:"vertical"})),class:w(["flex-1 py-1.5 text-xs rounded-md transition-all flex items-center justify-center gap-1",(o.value.cardLayout||n(s).appConfig.cardLayout)==="vertical"?"bg-white shadow-sm text-blue-600 font-bold":"text-gray-500 hover:text-gray-700"])},[...e[24]||(e[24]=[t("span",{class:"text-base"},"ğŸ“±",-1),b(" å‚ç›´ ",-1)])],2),t("button",{onClick:e[4]||(e[4]=l=>r({cardLayout:"horizontal"})),class:w(["flex-1 py-1.5 text-xs rounded-md transition-all flex items-center justify-center gap-1",(o.value.cardLayout||n(s).appConfig.cardLayout)==="horizontal"?"bg-white shadow-sm text-blue-600 font-bold":"text-gray-500 hover:text-gray-700"])},[...e[25]||(e[25]=[t("span",{class:"text-base"},"ğŸ’³",-1),b(" æ°´å¹³ ",-1)])],2)])]),t("div",null,[t("div",X,[e[27]||(e[27]=t("label",{class:"text-xs font-bold text-gray-500"},"å¡ç‰‡é—´è·",-1)),t("span",Y,p(o.value.gridGap??n(s).appConfig.gridGap)+"px",1)]),t("input",{type:"range",value:o.value.gridGap??n(s).appConfig.gridGap,onInput:e[5]||(e[5]=l=>r({gridGap:parseInt(l.target.value)})),min:"4",max:"32",step:"2",class:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-blue-400"},null,40,Z)]),t("div",null,[t("div",ee,[e[28]||(e[28]=t("label",{class:"text-xs font-bold text-gray-500"},"å¡ç‰‡å¤§å°",-1)),t("span",te,p(o.value.cardSize??n(s).appConfig.cardSize??120)+"px",1)]),t("input",{type:"range",value:o.value.cardSize??n(s).appConfig.cardSize??120,onInput:e[6]||(e[6]=l=>r({cardSize:parseInt(l.target.value)})),min:"60",max:"216",step:"4",class:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-blue-400"},null,40,oe)]),t("div",null,[t("div",le,[e[29]||(e[29]=t("label",{class:"text-xs font-bold text-gray-500"},"å›¾æ ‡å¤§å°",-1)),t("span",ae,p(o.value.iconSize??n(s).appConfig.iconSize??48)+"px",1)]),t("input",{type:"range",value:o.value.iconSize??n(s).appConfig.iconSize??48,onInput:e[7]||(e[7]=l=>r({iconSize:parseInt(l.target.value)})),min:"20",max:"100",step:"2",class:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-blue-400"},null,40,se)])])]),e[45]||(e[45]=t("div",{class:"border-t border-gray-100"},null,-1)),t("div",null,[t("h4",re,[e[30]||(e[30]=t("span",null,"ğŸ¨ å¡ç‰‡æ ·å¼",-1)),o.value.cardBgColor||o.value.showCardBackground!==void 0||o.value.iconShape?(u(),d("span",ne,"å·²è‡ªå®šä¹‰")):i("",!0)]),t("div",de,[t("div",ie,[e[36]||(e[36]=t("div",null,[t("div",{class:"text-xs font-bold text-gray-600"},"å¡ç‰‡å¤–è§‚"),t("div",{class:"text-[10px] text-gray-400"},"èƒŒæ™¯è‰² / å­—ä½“é¢œè‰²")],-1)),t("div",ue,[t("div",pe,[e[31]||(e[31]=t("span",{class:"text-[10px] text-gray-400"},"æ–‡å­—",-1)),t("input",{type:"color",value:o.value.cardTitleColor||n(s).appConfig.cardTitleColor||"#111827",onInput:e[8]||(e[8]=l=>r({cardTitleColor:l.target.value})),class:"w-6 h-6 rounded-full cursor-pointer border-0 p-0 overflow-hidden shadow-sm"},null,40,ge)]),e[35]||(e[35]=t("div",{class:"w-px h-8 bg-gray-200 mx-1"},null,-1)),t("div",ce,[e[32]||(e[32]=t("span",{class:"text-[10px] text-gray-400"},"èƒŒæ™¯",-1)),o.value.showCardBackground??n(s).appConfig.showCardBackground?C((u(),d("input",{key:0,type:"color","onUpdate:modelValue":e[9]||(e[9]=l=>m.value=l),class:"w-6 h-6 rounded-full cursor-pointer border-0 p-0 overflow-hidden shadow-sm"},null,512)),[[I,m.value]]):i("",!0)]),o.value.showCardBackground??n(s).appConfig.showCardBackground?(u(),d("div",be,[t("span",xe,"é€æ˜åº¦ "+p(Math.round(x.value*100))+"%",1),C(t("input",{type:"range",min:"0",max:"1",step:"0.05","onUpdate:modelValue":e[10]||(e[10]=l=>x.value=l),class:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-blue-400"},null,512),[[I,x.value,void 0,{number:!0}]])])):i("",!0),t("div",fe,[e[34]||(e[34]=t("span",{class:"text-[10px] text-gray-400"},"æ˜¾ç¤º",-1)),t("label",ve,[t("input",{type:"checkbox",checked:o.value.showCardBackground??n(s).appConfig.showCardBackground,onChange:e[11]||(e[11]=l=>r({showCardBackground:l.target.checked})),class:"sr-only peer"},null,40,ye),e[33]||(e[33]=t("div",{class:"w-9 h-5 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-4 after:w-4 after:transition-all peer-checked:bg-blue-500"},null,-1))])])])]),t("div",me,[e[39]||(e[39]=t("label",{class:"text-xs font-bold text-gray-500 mb-2 block"},[b(" å¡ç‰‡èƒŒæ™¯å›¾ "),t("span",{class:"text-[10px] font-normal text-gray-400"},"(åº”ç”¨åˆ°ç»„å†…æ‰€æœ‰å¡ç‰‡)")],-1)),t("div",ke,[t("div",he,[t("input",{value:o.value.backgroundImage,onInput:e[12]||(e[12]=l=>r({backgroundImage:l.target.value})),type:"text",placeholder:"èƒŒæ™¯å›¾ URL...",class:"flex-1 px-3 py-2 bg-gray-50 border border-gray-200 rounded-lg text-sm outline-none focus:border-blue-500"},null,40,we),o.value.backgroundImage?(u(),d("button",{key:0,onClick:e[13]||(e[13]=l=>r({backgroundImage:""})),class:"text-gray-400 hover:text-red-500 px-2",title:"æ¸…é™¤èƒŒæ™¯"}," âœ• ")):i("",!0)]),S(U,{modelValue:o.value.backgroundImage,"onUpdate:modelValue":e[14]||(e[14]=l=>r({backgroundImage:l})),crop:!1,uploadOnly:!0,previewStyle:{filter:`blur(${o.value.backgroundBlur??6}px)`,transform:"scale(1.1)"},overlayStyle:{backgroundColor:`rgba(0,0,0,${o.value.backgroundMask??.3})`}},null,8,["modelValue","previewStyle","overlayStyle"]),o.value.backgroundImage?(u(),d("div",Ce,[t("div",null,[t("label",Ie,[e[37]||(e[37]=t("span",null,"æ¨¡ç³ŠåŠå¾„",-1)),t("span",null,p(o.value.backgroundBlur??6)+"px",1)]),t("input",{type:"range",value:o.value.backgroundBlur??6,onInput:e[15]||(e[15]=l=>r({backgroundBlur:parseInt(l.target.value)})),min:"0",max:"20",step:"1",class:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-blue-400"},null,40,Se)]),t("div",null,[t("label",Be,[e[38]||(e[38]=t("span",null,"é®ç½©æµ“åº¦",-1)),t("span",null,p(Math.round((o.value.backgroundMask??.3)*100))+"%",1)]),t("input",{type:"range",value:o.value.backgroundMask??.3,onInput:e[16]||(e[16]=l=>r({backgroundMask:parseFloat(l.target.value)})),min:"0",max:"1",step:"0.1",class:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-blue-400"},null,40,$e)])])):i("",!0)])]),t("div",null,[e[41]||(e[41]=t("label",{class:"text-xs font-bold text-gray-500 mb-2 block"},"å›¾æ ‡å½¢çŠ¶",-1)),t("div",ze,[t("select",{value:o.value.iconShape||n(s).appConfig.iconShape,onChange:e[17]||(e[17]=l=>r({iconShape:l.target.value})),class:"flex-1 px-3 py-2 bg-gray-50 border border-gray-200 rounded-lg text-sm outline-none focus:border-blue-500"},[...e[40]||(e[40]=[L('<option value="none" data-v-65edd596>æ— å½¢çŠ¶</option><option value="hidden" data-v-65edd596>ä¸ä½¿ç”¨å›¾æ ‡</option><option value="rounded" data-v-65edd596>åœ†è§’çŸ©å½¢</option><option value="square" data-v-65edd596>æ–¹å½¢</option><option value="circle" data-v-65edd596>åœ†å½¢</option><option value="leaf" data-v-65edd596>å¶å½¢</option><option value="diamond" data-v-65edd596>è±å½¢</option><option value="pentagon" data-v-65edd596>äº”è§’å½¢</option><option value="hexagon" data-v-65edd596>å…­è¾¹å½¢</option><option value="octagon" data-v-65edd596>å…«è¾¹å½¢</option>',10)])],40,je),t("div",Ge,[S(P,{shape:o.value.iconShape||n(s).appConfig.iconShape,size:24,bgClass:"fill-blue-500",icon:""},null,8,["shape"])])])])])]),e[46]||(e[46]=t("div",{class:"border-t border-gray-100"},null,-1)),t("div",{class:"space-y-3"},[t("button",{onClick:j,class:"w-full py-2.5 rounded-xl text-sm font-bold text-gray-600 bg-gray-100 hover:bg-gray-200 transition-colors flex items-center justify-center gap-2"},[...e[42]||(e[42]=[t("span",null,"ğŸ”„",-1),b(" æ¢å¤é»˜è®¤è®¾ç½® ",-1)])]),t("button",{onClick:z,class:"w-full py-2.5 rounded-xl text-sm font-bold text-red-600 bg-red-50 hover:bg-red-100 transition-colors flex items-center justify-center gap-2"},[...e[43]||(e[43]=[t("span",null,"ğŸ—‘ï¸",-1),b(" åˆ é™¤æ­¤åˆ†ç»„ ",-1)])])])])])])):i("",!0)}}),Te=N(Me,[["__scopeId","data-v-65edd596"]]);export{Te as default};
